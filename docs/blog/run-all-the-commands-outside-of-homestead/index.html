<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="description" content="Wouldn&#039;t it be nice if you didn&#039;t have to SSH into Homestead whenever you want to run Artisan commands?">

        <meta property="og:site_name" content="GeneaLabs"/>
        <meta property="og:title" content="Run _#AllTheCommands_ Outside of Homestead | GeneaLabs"/>
        <meta property="og:description" content="Wouldn&#039;t it be nice if you didn&#039;t have to SSH into Homestead whenever you want to run Artisan commands?"/>
        <meta property="og:url" content="https://genealabs.com/blog/run-all-the-commands-outside-of-homestead"/>
        <meta property="og:image" content="/assets/images/logo.png"/>
        <meta property="og:type" content="website"/>

        <meta name="twitter:image:alt" content="GeneaLabs">
        <meta name="twitter:card" content="summary_large_image">

        
        <title>GeneaLabs | Run _#AllTheCommands_ Outside of Homestead</title>

        <link rel="home" href="https://genealabs.com">
        <link rel="icon" href="/favicon.ico">

            <meta property="og:title" content="Run _#AllTheCommands_ Outside of Homestead" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://genealabs.com/blog/run-all-the-commands-outside-of-homestead"/>
    <meta property="og:description" content="Wouldn&#039;t it be nice if you didn&#039;t have to SSH into Homestead whenever you want to run Artisan commands?" />

                    <!-- Insert analytics code here -->
        
        <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:300,300i,400,400i,700,700i,800,800i" rel="stylesheet">
        <link rel="stylesheet" href="/assets/build/css/main.css?id=aeefb19f1a580f0eb7b4">

        
            </head>

    <body class="flex flex-col justify-between min-h-screen bg-gray-100 text-gray-900 leading-normal font-sans">
        <div id="app">
            <header class="flex items-center shadow bg-white border-b h-24 py-4" role="banner">
                <div class="container flex items-center mx-auto px-4 lg:px-8">
                    <div class="flex items-center">
                        <a href="/" title="GeneaLabs home" class="inline-flex items-center">
                            <img class="h-8 md:h-10 mr-3" src="/assets/images/genealabs_logo_new.png" alt="GeneaLabs logo" />
                        </a>
                    </div>

                        <div id="vue-search" class="flex flex-1 justify-end items-center">
        <search></search>

        <nav class="hidden lg:flex items-center justify-end text-lg">
            <a href="/blog"
            class="text-green-600 hover:text-green-900 lvl0   ml-6 "
        >
            Blog
        </a>
    
                <a href="/packages"
            class="text-green-600 hover:text-green-900 lvl0   ml-6 "
        >
            Packages
        </a>
    
                <a href="/about"
            class="text-green-600 hover:text-green-900 lvl0   ml-6 "
        >
            About
        </a>
    
                <a href="/contact"
            class="text-green-600 hover:text-green-900 lvl0   ml-6 "
        >
            Contact
        </a>
    
        </nav>

        <button class="flex justify-center items-center bg-blue-500 border border-blue h-10 mr-4 px-5 rounded-full lg:hidden focus:outline-none"
    onclick="navMenu.toggle()"
>
    <svg id="js-nav-menu-show" xmlns="http://www.w3.org/2000/svg"
        class="fill-current text-white h-9 w-4" viewBox="0 0 32 32"
    >
        <path d="M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"/>
    </svg>

    <svg id="js-nav-menu-hide" xmlns="http://www.w3.org/2000/svg"
        class="hidden fill-current text-white h-9 w-4" viewBox="0 0 36 30"
    >
        <polygon points="32.8,4.4 28.6,0.2 18,10.8 7.4,0.2 3.2,4.4 13.8,15 3.2,25.6 7.4,29.8 18,19.2 28.6,29.8 32.8,25.6 22.2,15 "/>
    </svg>
</button>

    </div>

                </div>

                    <button class="flex justify-center items-center bg-blue-500 border border-blue h-10 mr-4 px-5 rounded-full lg:hidden focus:outline-none"
    onclick="navMenu.toggle()"
>
    <svg id="js-nav-menu-show" xmlns="http://www.w3.org/2000/svg"
        class="fill-current text-white h-9 w-4" viewBox="0 0 32 32"
    >
        <path d="M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"/>
    </svg>

    <svg id="js-nav-menu-hide" xmlns="http://www.w3.org/2000/svg"
        class="hidden fill-current text-white h-9 w-4" viewBox="0 0 36 30"
    >
        <polygon points="32.8,4.4 28.6,0.2 18,10.8 7.4,0.2 3.2,4.4 13.8,15 3.2,25.6 7.4,29.8 18,19.2 28.6,29.8 32.8,25.6 22.2,15 "/>
    </svg>
</button>

            </header>

            <main role="main"
                class="w-full flex-auto relative"
            >
                    <section class="flex-auto w-full container mx-auto py-16 px-6">
        
        <h1 class="leading-none mb-2">Run _#AllTheCommands_ Outside of Homestead</h1>

        <p class="text-gray-800 text-xl md:mt-0">Mike Bronner  •  March 16, 2015</p>

                                    <a
                    href="/blog/categories/homestead"
                    title="View posts in homestead"
                    class="inline-block bg-gray-300 hover:bg-blue-500-lighter leading-loose tracking-wide text-gray-900 uppercase text-xs font-semibold rounded mr-4 px-3 pt-px"
                >homestead</a>
                    
        <div class="border-b border-blue-200 mb-10 pb-4" v-pre>
            <p><strong>Install latested PHP5+MCrypt on Yosemite to enable Laravel Artisan</strong></p>

<hr />

<p><a href="http://laravel.com/docs/5.0/homestead">Laravel Homestead</a> has brought virtual machines for web development to the mainstream PHP developer: it makes setting up a development stack similar to XAMP extremely simple. You no longer need to be a pseudo sys-admin to set up Vagrant and Puppet to manage your environments.</p>

<p>However, one of the drawbacks so far has been that you always needed to run Laravel Artisan commands from within homestead, as they depending on MCrypt being installed (which OS X has not yet included by default). The main drawbacks are slow execution (running commands inside homestead is not near as fast as running them natively — I suspect this mostly has to do with the Vagrant Shared Folders feature) and the annoyance of always having to SSH into homestead.</p>

<p>The accepted solution thus far has been to install newer versions of PHP alongside Apple’s version using Homebrew or MacPorts. This would likely require you to compile the MCrypt extension manually. I also found that Homebrew could leave your system in disarray if things went wrong (more than once I had to do a complete restore because of this).</p>

<p>However, there’s another method I came across while research some non-related issues: install the latest version of PHP from a binary that includes the MCrypt extension. It will not bork up your system if you want to remove it, either. ☺Let’s get cooking!</p>

<hr />

<h3>Ingredients</h3>

<ul>
<li>OS X Yosemite (already installed)</li>
<li>Laravel Homestead 2.x (already installed with shared folders set up)</li>
<li><a href="http://php-osx.liip.ch">PHP for OS/X</a></li>
</ul>

<hr />

<h3>Recipe</h3>

<ol>
<li>Open Terminal.</li>
<li>Let’s head to your home directory and install PHP 5.6 (the latest version as of now):</li>
</ol>

<iframe width="700" height="250" src="/media/b4ddfd87a71a24e4477a792b9701ce34?postId=e2fc8d05251f" data-media-id="b4ddfd87a71a24e4477a792b9701ce34" allowfullscreen="" frameborder="0"></iframe>

<p>3&#46; If you are using Oh-My-ZSH:</p>

<iframe width="700" height="250" src="/media/39f2610b56c46a5414d390a09d64241f?postId=e2fc8d05251f" data-media-id="39f2610b56c46a5414d390a09d64241f" allowfullscreen="" frameborder="0"></iframe>

<p>And prepend “/usr/local/php5/bin:” to the “export PATH” string, like so:</p>

<iframe width="700" height="250" src="/media/85b3252a288771b936be53e4452daffc?postId=e2fc8d05251f" data-media-id="85b3252a288771b936be53e4452daffc" allowfullscreen="" frameborder="0"></iframe>

<p>4&#46; If you are using Bash (default):</p>

<iframe width="700" height="250" src="/media/de66c4484e4c75027aee39ac5c4c6534?postId=e2fc8d05251f" data-media-id="de66c4484e4c75027aee39ac5c4c6534" allowfullscreen="" frameborder="0"></iframe>

<p>And add the following line at the end (if you already have entries there):</p>

<iframe width="700" height="250" src="/media/fde537d04e9fee3a2ead07128e8e4e7c?postId=e2fc8d05251f" data-media-id="fde537d04e9fee3a2ead07128e8e4e7c" allowfullscreen="" frameborder="0"></iframe>

<p>5&#46; Quit and restart Terminal.</p>

<p>6&#46; Go to one of your Laravel projects in your Homestead-shared folder (don’t SSH into Homestead though), and run:</p>

<iframe width="700" height="250" src="/media/3b58e17ab0bc15ce71751e6407712d85?postId=e2fc8d05251f" data-media-id="3b58e17ab0bc15ce71751e6407712d85" allowfullscreen="" frameborder="0"></iframe>

<hr />

<h3>The Cake</h3>

<p>If all went well, you should be greeted by the following output (you will most likely have a newer version of Laravel installed):</p>

<p><img src="https://cdn-images-1.medium.com/max/1600/1*bJ8vFt8_cChMLRcQz4xZpw.png" alt="" />Artisan Commands Available Outside Homestead</p>

<hr />

<h3>And The Icing</h3>

<p>We still have the one command that won’t play nice, though: “<strong>php artisan migrate</strong>”. There’s a fix for that too:</p>

<p>In your project, edit config/database.php, changing</p>

<iframe width="700" height="250" src="/media/a7640fb44de2c2f3628226dd3dc399b9?postId=e2fc8d05251f" data-media-id="a7640fb44de2c2f3628226dd3dc399b9" allowfullscreen="" frameborder="0"></iframe>

<p>Original Database Settings</p>

<p>To:</p>

<iframe width="700" height="250" src="/media/9e717d7ceda176fc15e8f21376af7829?postId=e2fc8d05251f" data-media-id="9e717d7ceda176fc15e8f21376af7829" allowfullscreen="" frameborder="0"></iframe>

<p>New and improved database settings!</p>

<hr />

<h3>Sources</h3>

<ul>
<li><a href="https://php-osx.liip.ch/">https://php-osx.liip.ch</a></li>
<li><a href="https://jacurtis.com/easily-install-mcrypt-php-mavericks-yosemite/">https://jacurtis.com/easily-install-mcrypt-php-mavericks-yosemite/</a></li>
<li><a href="https://laracasts.com/discuss/channels/general-discussion/homestead-db-connection-problem">https://laracasts.com/discuss/channels/general-discussion/homestead-db-connection-problem</a></li>
</ul>
        </div>

        <nav class="flex justify-between text-sm md:text-base">
            <div>
                                    <a href="https://genealabs.com/blog/agnoster-terminal-theme-on-osx" title="Older Post: Agnoster Terminal Theme on OS X">
                        &LeftArrow; Agnoster Terminal Theme on OS X
                    </a>
                            </div>

            <div>
                                    <a href="https://genealabs.com/blog/set-up-envoyer-on-an-existing-forge-site" title="Newer Post: Set Up Envoyer On An Existing Forge Site">
                        Set Up Envoyer On An Existing Forge Site &RightArrow;
                    </a>
                            </div>
        </nav>
    </section>
            </main>
        </div>

        <script src="/assets/build/js/main.js?id=273dac163bb85281620e"></script>

        <script>
    const navMenu = {
        toggle() {
            let menu = document.getElementById('js-nav-menu');
            menu.classList.toggle('hidden');
            menu.classList.toggle('lg:block');
            document.getElementById('js-nav-menu-hide').classList.toggle('hidden');
            document.getElementById('js-nav-menu-show').classList.toggle('hidden');
            console.log(document.getElementById('js-nav-menu2'));
            //document.querySelector("js-nav-menu")
/*
            const menu2 = document.getElementById('js-nav-menu2');
            menu.classList.toggle('hidden');
            menu.classList.toggle('lg:block');
            document.getElementById('js-nav-menu-hide').classList.toggle('hidden');
            document.getElementById('js-nav-menu-show').classList.toggle('hidden');
            */
        },
    }
</script>
<script>
    const navMenu = {
        toggle() {
            let menu = document.getElementById('js-nav-menu');
            menu.classList.toggle('hidden');
            menu.classList.toggle('lg:block');
            document.getElementById('js-nav-menu-hide').classList.toggle('hidden');
            document.getElementById('js-nav-menu-show').classList.toggle('hidden');
            console.log(document.getElementById('js-nav-menu2'));
            //document.querySelector("js-nav-menu")
/*
            const menu2 = document.getElementById('js-nav-menu2');
            menu.classList.toggle('hidden');
            menu.classList.toggle('lg:block');
            document.getElementById('js-nav-menu-hide').classList.toggle('hidden');
            document.getElementById('js-nav-menu-show').classList.toggle('hidden');
            */
        },
    }
</script>

        <footer class="bg-white text-center text-sm py-4" role="contentinfo">
            <ul class="flex flex-col md:flex-row justify-center list-reset">
                <li class="md:mr-2">
                    &copy;
                    <a
                        class="text-green-600 hover:text-green-900"
                        href="https://genealabs.com"
                        title="GeneaLabs website"
                    >GeneaLabs</a>
                    2014 - 2020.
                </li>
                <li class="md:mr-2">
                    <a
                        class="text-green-600 hover:text-green-900"
                        href="https://genealabs.com/privacy-policy"
                        title="Privacy Policy"
                    >Privacy Policy</a>
                </li>
                <li class="md:mr-2">
                    <a
                        class="text-green-600 hover:text-green-900"
                        href="https://genealabs.com/terms-of-service"
                        title="Terms of Service"
                    >Terms of Service</a>
                </li>
                <li class="md:mr-2">
                    <a
                        class="text-green-600 hover:text-green-900"
                        href="https://genealabs.com/disclaimer"
                        title="Disclaimer"
                    >Disclaimer</a>
                </li>
            </ul>
        </footer>
    </body>
</html>
