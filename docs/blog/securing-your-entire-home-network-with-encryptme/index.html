<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="description" content="How to set up your router as a gateway VPN using encrypt.me.">

        <meta property="og:site_name" content=""/>
        <meta property="og:title" content="Securing Your Entire Home Network With encrypt.me | "/>
        <meta property="og:description" content="How to set up your router as a gateway VPN using encrypt.me."/>
        <meta property="og:url" content="https://genealabs.com/blog/securing-your-entire-home-network-with-encryptme"/>
        <meta property="og:image" content="/assets/images/logo.png"/>
        <meta property="og:type" content="website"/>

        <meta name="twitter:image:alt" content="">
        <meta name="twitter:card" content="summary_large_image">

        
        <title> | Securing Your Entire Home Network With encrypt.me</title>

        <link rel="home" href="https://genealabs.com">
        <link rel="icon" href="/favicon.ico">

            <meta property="og:title" content="Securing Your Entire Home Network With encrypt.me" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://genealabs.com/blog/securing-your-entire-home-network-with-encryptme"/>
    <meta property="og:description" content="How to set up your router as a gateway VPN using encrypt.me." />

                    <!-- Insert analytics code here -->
        
        <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:300,300i,400,400i,700,700i,800,800i" rel="stylesheet">
        <link rel="stylesheet" href="/assets/build/css/main.css?id=839d5aafee79f4e34e4b">

        
            </head>

    <body class="flex flex-col justify-between min-h-screen bg-grey-lightest text-grey-darkest leading-normal font-sans">
        <div id="app">
            <header class="flex items-center shadow bg-white border-b h-24 mb-8 py-4" role="banner">
                <div class="container flex items-center max-w-4xl mx-auto px-4 lg:px-8">
                    <div class="flex items-center">
                        <a href="/" title=" home" class="inline-flex items-center">
                            <img class="h-8 md:h-10 mr-3" src="/assets/images/genealabs_logo_new.png" alt=" logo" />

                            <h1 class="text-lg md:text-2xl text-blue-darkest font-semibold hover:text-blue-dark my-0 pr-4"></h1>
                        </a>
                    </div>

                        <div id="vue-search" class="flex flex-1 justify-end items-center">
        <search></search>

        <nav class="hidden lg:flex items-center justify-end text-lg">
            <a href="/blog"
            class="lvl0   ml-6 "
        >
            Blog
        </a>
    
                <a href="/packages"
            class="lvl0   ml-6 "
        >
            Packages
        </a>
    
                <a href="/about"
            class="lvl0   ml-6 "
        >
            About
        </a>
    
                <a href="/contact"
            class="lvl0   ml-6 "
        >
            Contact
        </a>
    
        </nav>

        <button class="flex justify-center items-center bg-blue border border-blue h-10 mr-4 px-5 rounded-full lg:hidden focus:outline-none"
    onclick="navMenu.toggle()"
>
    <svg id="js-nav-menu-show" xmlns="http://www.w3.org/2000/svg"
        class="fill-current text-white h-9 w-4" viewBox="0 0 32 32"
    >
        <path d="M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"/>
    </svg>

    <svg id="js-nav-menu-hide" xmlns="http://www.w3.org/2000/svg"
        class="hidden fill-current text-white h-9 w-4" viewBox="0 0 36 30"
    >
        <polygon points="32.8,4.4 28.6,0.2 18,10.8 7.4,0.2 3.2,4.4 13.8,15 3.2,25.6 7.4,29.8 18,19.2 28.6,29.8 32.8,25.6 22.2,15 "/>
    </svg>
</button>

    </div>

                </div>

                    <button class="flex justify-center items-center bg-blue border border-blue h-10 mr-4 px-5 rounded-full lg:hidden focus:outline-none"
    onclick="navMenu.toggle()"
>
    <svg id="js-nav-menu-show" xmlns="http://www.w3.org/2000/svg"
        class="fill-current text-white h-9 w-4" viewBox="0 0 32 32"
    >
        <path d="M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"/>
    </svg>

    <svg id="js-nav-menu-hide" xmlns="http://www.w3.org/2000/svg"
        class="hidden fill-current text-white h-9 w-4" viewBox="0 0 36 30"
    >
        <polygon points="32.8,4.4 28.6,0.2 18,10.8 7.4,0.2 3.2,4.4 13.8,15 3.2,25.6 7.4,29.8 18,19.2 28.6,29.8 32.8,25.6 22.2,15 "/>
    </svg>
</button>

            </header>

            <main role="main"
                class="w-full flex-auto relative"
            >
                    <section class="flex-auto w-full container max-w-xl mx-auto py-16 px-6">
        
        <h1 class="leading-none mb-2">Securing Your Entire Home Network With encrypt.me</h1>

        <p class="text-grey-darker text-xl md:mt-0">Mike Bronner  â€¢  May 27, 2019</p>

                                    <a
                    href="/blog/categories/misc"
                    title="View posts in misc"
                    class="inline-block bg-grey-light hover:bg-blue-lighter leading-loose tracking-wide text-grey-darkest uppercase text-xs font-semibold rounded mr-4 px-3 pt-px"
                >misc</a>
                    
        <div class="border-b border-blue-lighter mb-10 pb-4" v-pre>
            <p>If you have an eero and subscribe to eero Plus, you get a free subscription to  <a href="https://encrypt.me">encrypt.me</a> , one of the most performant VPN providers I have ever used. Unfortunately they only provide an app to secure individual devices, and no clear way to protect entire networks. This leaves all your IoT devices, as well as home entertainment devices like Roku, AppleTV, etc,  out in the cold.</p>
<p>The following is a guide to help you extract the VPN settings and apply them to your OpenVPN router.</p>
<p><em>If you are using an eero and want to implement network-wide VPN, you will have to create a VPN gateway in front of your eero and either put the eero in bridge mode or double-nat it, which is what I do.</em></p>
<h2>Assumptions</h2>
<ul>
<li>macOS desktop</li>
<li>DD-WRT VPN gateway router</li>
<li><a href="https://encrypt.me/apps/">EncryptMe app</a>  is installed.</li>
</ul>
<p>If your setup differs, please make the appropriate adjustments to this guide.</p>
<h2>Guide</h2>
<h3>Get The Configuration</h3>
<ol>
<li>
<p>Open the <strong>EncryptMe</strong> app on your computer.</p>
</li>
<li>
<p>Connect to your preferred or fastest connection.</p>
</li>
<li>
<p>Open <strong>Terminal</strong> and enter the following commands:</p>
<pre><code class="language-sh">sudo -i
ps aux | grep openvpn</code></pre>
</li>
<li>
<p>Extract the location of the OpenVPN config file from the output.</p>
</li>
<li>
<p>Output the content of the config file:</p>
<pre><code class="language-sh">cat /var/folders/zz/zyxvpxvq6csfxvn_n0000000000000/T/cloak.20190527094324.conf</code></pre>
</li>
<li>
<p>Quit the <strong>EncryptMe</strong> app.</p>
</li>
</ol>
<h3>Implement The Settings</h3>
<ol>
<li>Navigate to the VPN settings page on your router.</li>
<li>Enable <strong>Start OpenVPN Client</strong>.</li>
<li>Enter the server listed in the <code>remote</code> setting in <strong>Server IP/Name</strong>.</li>
<li>Enter the port listed in the <code>remote</code> setting in <strong>Port</strong>.</li>
<li>Enter the protocol listed in the <code>remote</code> setting in <strong>Tunnel Protocol</strong>.</li>
<li>Select the cipher listed in the <code>cipher</code> setting in <strong>Encryption Cipher</strong>.</li>
<li>Select the algorithm listed in <code>auth</code> setting in <strong>Hash Algorithm</strong>.</li>
<li>Leave <strong>User Pass Authentication</strong> disabled.</li>
<li>Enable <strong>Advanced Options</strong>.</li>
<li>Leave <strong>TLS Cipher</strong> set to <code>None</code>.</li>
<li>Select the compression listed in <code>comp-lzo</code> setting in <strong>LZO Compression</strong>.</li>
<li>Enable <strong>NAT</strong>.</li>
<li>Enable <strong>Firewall Protection</strong>.</li>
<li>Leave <strong>IP Address</strong> empty.</li>
<li>Leave <strong>Subnet Mask</strong> empty.</li>
<li>Set <strong>Tunnel MTU Setting</strong> to <code>1500</code>.</li>
<li>Leave <strong>Tunnel UDP Fragment</strong> empty.</li>
<li>Enable <strong>Tunnel UDP MSS-Fix</strong>.</li>
<li>Uncheck <strong>nsCertType Verification</strong>.</li>
<li>Leave <strong>TLS Auth Key</strong> empty.</li>
<li>Set <strong>Additional Config</strong> to <code>redirect-gateway</code>.</li>
<li>Leave <strong>Policy Based Routing</strong> empty.</li>
<li>Leave <strong>PKCS12 Key</strong> empty.</li>
<li>Leave <strong>Static Key</strong> empty.</li>
<li>Copy paste the text between the <code>&lt;ca&gt;</code> and <code>&lt;/ca&gt;</code> tags into the <strong>CA Cert</strong> field.</li>
<li>Copy/paste the text between the <code>&lt;cert&gt;</code> and <code>&lt;/cert&gt;</code> tags into the <strong>Public Client Cert</strong> field.</li>
<li>Copy/paste the text between the <code>&lt;key&gt;</code> and <code>&lt;/key&gt;</code> tags into the <strong>Private Client Key</strong> field.</li>
<li>Hit <strong>Apply Settings</strong>.</li>
<li>Navigate to the Status &gt; OpenVPN tab to verify that the connection succeeded. It may take a moment to connect, so if you don't see <code>CONNECT SUCCESS</code> yet, give it a few refreshes. If it still doesn't connect, double-check that the settings were entered correctly. See the screenshot below as an example of what it should look like.</li>
</ol>
<h4>Example Screenshot</h4>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1558975708205/v6ipVsTVH.png" alt="1*EBeeEx3W-U71ynPsIBLKuQ.png" /></p>
<h2>Summary</h2>
<h3>Benefits</h3>
<ul>
<li>One single connection that protects your entire network.</li>
<li>Highly performant VPN service.</li>
<li>Free VPN, if you are an eero Plus subscriber.</li>
</ul>
<h3>Drawbacks</h3>
<ul>
<li>Amazon, Netflix, and other streaming providers don't like VPNs and block them. Encrypt.me does not seem to provide any form of unblocking services to address this.</li>
<li>The certs seem to expire every 3 months or so, which means you need to periodically perform this exercise to keep your connection up.</li>
<li>Encrypt.me does log session and browsing activity, which some claim defeats the purpose of VPNs. My main priority is protecting my privacy, mainly my ISP from reselling my data.</li>
<li>Encrypt.me blocks certain traffic they deem &quot;nefarious&quot; by default. For example they block torrent traffic, but it can be unblocked per request on your account.</li>
</ul>
<p>I would love to hear your experiences, or suggestions on improving this process. How are you protecting your network?</p>        </div>

        <nav class="flex justify-between text-sm md:text-base">
            <div>
                                    <a href="https://genealabs.com/blog/how-to-convert-png-to-tiled-tiff" title="Older Post: How To Convert PNG To Tiled TIFF">
                        &LeftArrow; How To Convert PNG To Tiled TIFF
                    </a>
                            </div>

            <div>
                                    <a href="https://genealabs.com/blog/install-imagick-for-php-7-2-on-ubuntu-18-04" title="Newer Post: Install Imagick for PHP 7.2 on Ubuntu 18.04">
                        Install Imagick for PHP 7.2 on Ubuntu 18.04 &RightArrow;
                    </a>
                            </div>
        </nav>
    </section>
            </main>
        </div>

        <script src="/assets/build/js/main.js?id=a6f070e792abfcf8ab6d"></script>

        <script>
    const navMenu = {
        toggle() {
            let menu = document.getElementById('js-nav-menu');
            menu.classList.toggle('hidden');
            menu.classList.toggle('lg:block');
            document.getElementById('js-nav-menu-hide').classList.toggle('hidden');
            document.getElementById('js-nav-menu-show').classList.toggle('hidden');
            console.log(document.getElementById('js-nav-menu2'));
            //document.querySelector("js-nav-menu")
/*
            const menu2 = document.getElementById('js-nav-menu2');
            menu.classList.toggle('hidden');
            menu.classList.toggle('lg:block');
            document.getElementById('js-nav-menu-hide').classList.toggle('hidden');
            document.getElementById('js-nav-menu-show').classList.toggle('hidden');
            */
        },
    }
</script>
<script>
    const navMenu = {
        toggle() {
            let menu = document.getElementById('js-nav-menu');
            menu.classList.toggle('hidden');
            menu.classList.toggle('lg:block');
            document.getElementById('js-nav-menu-hide').classList.toggle('hidden');
            document.getElementById('js-nav-menu-show').classList.toggle('hidden');
            console.log(document.getElementById('js-nav-menu2'));
            //document.querySelector("js-nav-menu")
/*
            const menu2 = document.getElementById('js-nav-menu2');
            menu.classList.toggle('hidden');
            menu.classList.toggle('lg:block');
            document.getElementById('js-nav-menu-hide').classList.toggle('hidden');
            document.getElementById('js-nav-menu-show').classList.toggle('hidden');
            */
        },
    }
</script>

        <footer class="bg-white text-center text-sm mt-12 py-4" role="contentinfo">
            <ul class="flex flex-col md:flex-row justify-center list-reset">
                <li class="md:mr-2">
                    &copy; <a href="https://genealabs.com" title="GeneaLabs website">GeneaLabs</a> 2019.
                </li>
            </ul>
        </footer>
    </body>
</html>
